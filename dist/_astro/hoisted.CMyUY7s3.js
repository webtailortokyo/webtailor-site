import"./hoisted.Bl9GflwI.js";document.addEventListener("DOMContentLoaded",function(){const n=document.getElementById("confirm-content"),t=document.getElementById("no-data-warning"),s=document.getElementById("back-btn"),d=document.getElementById("send-btn");document.getElementById("send-form");const l=document.getElementById("send-text"),r=document.getElementById("send-spinner"),o=sessionStorage.getItem("contactFormData");if(!o){n.classList.add("hidden"),t.classList.remove("hidden");return}try{const e=JSON.parse(o);u(e),s.addEventListener("click",function(){window.location.href="/contact"}),d.addEventListener("click",function(){confirm("お問い合わせを送信してもよろしいですか？")&&(d.disabled=!0,l.classList.add("hidden"),r.classList.remove("hidden"),a(e),setTimeout(()=>{sessionStorage.removeItem("contactFormData"),window.location.href="/contact-thanks"},1e3))})}catch(e){console.error("データの解析に失敗しました:",e),n.classList.add("hidden"),t.classList.remove("hidden")}function u(e){document.getElementById("confirm-name").textContent=e.name||"",document.getElementById("confirm-email").textContent=e.email||"",document.getElementById("confirm-subject").textContent=e.subject||"",document.getElementById("confirm-message").textContent=e.message||"";const i=document.getElementById("phone-section"),c=document.getElementById("budget-section"),m=document.getElementById("deadline-section");e.phone&&e.phone.trim()?(document.getElementById("confirm-phone").textContent=e.phone,i.classList.remove("hidden")):i.classList.add("hidden"),e.budget&&e.budget.trim()?(document.getElementById("confirm-budget").textContent=e.budget,c.classList.remove("hidden")):c.classList.add("hidden"),e.deadline&&e.deadline.trim()?(document.getElementById("confirm-deadline").textContent=e.deadline,m.classList.remove("hidden")):m.classList.add("hidden")}function a(e){document.getElementById("hidden-name").value=e.name||"",document.getElementById("hidden-email").value=e.email||"",document.getElementById("hidden-phone").value=e.phone||"",document.getElementById("hidden-subject").value=e.subject||"",document.getElementById("hidden-budget").value=e.budget||"",document.getElementById("hidden-deadline").value=e.deadline||"",document.getElementById("hidden-message").value=e.message||""}window.addEventListener("beforeunload",function(e){sessionStorage.getItem("contactFormData")&&(e.preventDefault(),e.returnValue="ページを離れると入力内容が失われます。よろしいですか？")})});
