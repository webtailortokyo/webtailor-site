document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("loading-screen");t&&setTimeout(()=>{t.style.opacity="0",setTimeout(()=>{t.style.display="none"},500)},1e3);const o={threshold:.1,rootMargin:"0px 0px -50px 0px"},r=new IntersectionObserver(n=>{n.forEach(s=>{s.isIntersecting&&s.target.classList.add("visible")})},o);document.querySelectorAll(".fade-in-up").forEach(n=>{r.observe(n)});const e=document.getElementById("scroll-to-top");window.addEventListener("scroll",()=>{window.pageYOffset>300?(e?.classList.remove("opacity-0","pointer-events-none"),e?.classList.add("opacity-100")):(e?.classList.add("opacity-0","pointer-events-none"),e?.classList.remove("opacity-100"))}),e?.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const d=document.querySelectorAll('a[href^="/"]'),i=new IntersectionObserver(n=>{n.forEach(s=>{if(s.isIntersecting){const c=s.target,a=document.createElement("link");a.rel="prefetch",a.href=c.href,document.head.appendChild(a),i.unobserve(c)}})});d.forEach(n=>i.observe(n))});document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("mobile-menu-btn"),o=document.getElementById("mobile-menu");t&&o&&(t.addEventListener("click",()=>{o.classList.toggle("hidden");const e=!o.classList.contains("hidden");t.setAttribute("aria-expanded",e.toString()),t.setAttribute("aria-label",e?"メニューを閉じる":"メニューを開く")}),document.addEventListener("click",e=>{!t.contains(e.target)&&!o.contains(e.target)&&(o.classList.add("hidden"),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-label","メニューを開く"))})),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(d){d.preventDefault();const i=document.querySelector(this.getAttribute("href"));if(i){const c=i.offsetTop-80;window.scrollTo({top:c,behavior:"smooth"})}})});const r=document.querySelector("header");window.addEventListener("scroll",()=>{window.pageYOffset>100?r?.classList.add("bg-white/90"):r?.classList.remove("bg-white/90")})});
