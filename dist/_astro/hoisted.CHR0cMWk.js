import"./hoisted.Bl9GflwI.js";document.addEventListener("DOMContentLoaded",function(){const m=document.getElementById("contact-form"),o=document.getElementById("submit-btn"),a=document.getElementById("submit-text"),c=document.getElementById("loading-spinner");function u(){let t=!0;["name","email","subject","message"].forEach(l=>{const r=document.getElementById(l),d=document.getElementById(l+"-error");r.value.trim()?(d&&d.classList.add("hidden"),r.classList.remove("border-red-500")):(d&&(d.textContent="この項目は必須です。"),d&&d.classList.remove("hidden"),r.classList.add("border-red-500"),t=!1)});const e=document.getElementById("email"),i=document.getElementById("email-error"),f=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;e.value&&!f.test(e.value)&&(i&&(i.textContent="正しいメールアドレスの形式で入力してください。"),i&&i.classList.remove("hidden"),e.classList.add("border-red-500"),t=!1);const v=document.getElementById("privacy"),s=document.getElementById("privacy-error");return v.checked?s&&s.classList.add("hidden"):(s&&(s.textContent="プライバシーポリシーに同意してください。"),s&&s.classList.remove("hidden"),t=!1),t}["name","email","subject","message"].forEach(t=>{const n=document.getElementById(t);n&&n.addEventListener("blur",function(){const e=document.getElementById(t+"-error");this.value.trim()?(e&&e.classList.add("hidden"),this.classList.remove("border-red-500"),t==="email"&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.value)||(e&&(e.textContent="正しいメールアドレスの形式で入力してください。"),e&&e.classList.remove("hidden"),this.classList.add("border-red-500")))):(e&&(e.textContent="この項目は必須です。"),e&&e.classList.remove("hidden"),this.classList.add("border-red-500"))})}),m.addEventListener("submit",function(t){if(t.preventDefault(),!u()){const e=document.querySelector(".border-red-500, .text-red-600:not(.hidden)");e&&e.scrollIntoView({behavior:"smooth",block:"center"});return}o.disabled=!0,a.classList.add("hidden"),c.classList.remove("hidden");const n={name:document.getElementById("name").value,email:document.getElementById("email").value,phone:document.getElementById("phone").value,subject:document.getElementById("subject").value,budget:document.getElementById("budget").value,deadline:document.getElementById("deadline").value,message:document.getElementById("message").value,privacy:document.getElementById("privacy").checked?"on":""};try{sessionStorage.setItem("contactFormData",JSON.stringify(n)),window.location.href="/contact-confirm"}catch(e){console.error("SessionStorage保存エラー:",e),alert("データの保存に失敗しました。もう一度お試しください。"),o.disabled=!1,a.classList.remove("hidden"),c.classList.add("hidden")}}),document.querySelectorAll("input, select, textarea").forEach(t=>{t.addEventListener("focus",function(){const n=this.parentElement;n&&n.classList.add("scale-[1.02]")}),t.addEventListener("blur",function(){const n=this.parentElement;n&&n.classList.remove("scale-[1.02]")})})});
