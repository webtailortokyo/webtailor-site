import"./hoisted.Bl9GflwI.js";document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("confirm-content"),d=document.getElementById("no-data-warning"),c=document.getElementById("back-btn"),o=document.getElementById("send-btn");document.getElementById("send-form");const l=document.getElementById("send-text"),r=document.getElementById("send-spinner"),m=sessionStorage.getItem("contactFormData");if(!m){t.classList.add("hidden"),d.classList.remove("hidden");return}try{const e=JSON.parse(m);u(e),c.addEventListener("click",function(){window.location.href="/contact"}),o.addEventListener("click",function(){if(!confirm("お問い合わせを送信してもよろしいですか？"))return;o.disabled=!0,l.classList.add("hidden"),r.classList.remove("hidden"),a(e),document.getElementById("send-form").submit(),sessionStorage.removeItem("contactFormData")})}catch(e){console.error("データの解析に失敗しました:",e),t.classList.add("hidden"),d.classList.remove("hidden")}function u(e){document.getElementById("confirm-name").textContent=e.name||"",document.getElementById("confirm-email").textContent=e.email||"",document.getElementById("confirm-subject").textContent=e.subject||"",document.getElementById("confirm-message").textContent=e.message||"";const n=document.getElementById("phone-section"),i=document.getElementById("budget-section"),s=document.getElementById("deadline-section");e.phone&&e.phone.trim()?(document.getElementById("confirm-phone").textContent=e.phone,n.classList.remove("hidden")):n.classList.add("hidden"),e.budget&&e.budget.trim()?(document.getElementById("confirm-budget").textContent=e.budget,i.classList.remove("hidden")):i.classList.add("hidden"),e.deadline&&e.deadline.trim()?(document.getElementById("confirm-deadline").textContent=e.deadline,s.classList.remove("hidden")):s.classList.add("hidden")}function a(e){document.getElementById("hidden-name").value=e.name||"",document.getElementById("hidden-email").value=e.email||"",document.getElementById("hidden-phone").value=e.phone||"",document.getElementById("hidden-subject").value=e.subject||"",document.getElementById("hidden-budget").value=e.budget||"",document.getElementById("hidden-deadline").value=e.deadline||"",document.getElementById("hidden-message").value=e.message||""}window.addEventListener("beforeunload",function(e){sessionStorage.getItem("contactFormData")&&(e.preventDefault(),e.returnValue="ページを離れると入力内容が失われます。よろしいですか？")})});
