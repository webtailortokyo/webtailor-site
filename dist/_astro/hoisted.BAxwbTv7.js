import"./hoisted.Bl9GflwI.js";document.addEventListener("DOMContentLoaded",function(){const d=document.getElementById("confirm-content"),o=document.getElementById("no-data-warning"),s=document.getElementById("back-btn"),c=document.getElementById("send-btn"),l=document.getElementById("send-text"),r=document.getElementById("send-spinner"),i=sessionStorage.getItem("contactFormData");if(!i){d.classList.add("hidden"),o.classList.remove("hidden");return}try{const e=JSON.parse(i);u(e),s.addEventListener("click",function(){window.location.href="/contact"}),c.addEventListener("click",function(){confirm("お問い合わせを送信してもよろしいですか？")&&(c.disabled=!0,l.classList.add("hidden"),r.classList.remove("hidden"),a(e),grecaptcha.ready(function(){grecaptcha.execute("6Ld65dgrAAAAAOBbz1LgGJdkdkJtrVuWTx8PnL-2",{action:"submit"}).then(function(n){document.getElementById("recaptcha-token").value=n,document.getElementById("send-form").submit(),sessionStorage.removeItem("contactFormData")})}))})}catch(e){console.error("データの解析に失敗しました:",e),d.classList.add("hidden"),o.classList.remove("hidden")}function u(e){document.getElementById("confirm-name").textContent=e.name||"",document.getElementById("confirm-email").textContent=e.email||"",document.getElementById("confirm-subject").textContent=e.subject||"",document.getElementById("confirm-message").textContent=e.message||"";const n=document.getElementById("phone-section"),t=document.getElementById("budget-section"),m=document.getElementById("deadline-section");e.phone&&e.phone.trim()?(document.getElementById("confirm-phone").textContent=e.phone,n.classList.remove("hidden")):n.classList.add("hidden"),e.budget&&e.budget.trim()?(document.getElementById("confirm-budget").textContent=e.budget,t.classList.remove("hidden")):t.classList.add("hidden"),e.deadline&&e.deadline.trim()?(document.getElementById("confirm-deadline").textContent=e.deadline,m.classList.remove("hidden")):m.classList.add("hidden")}function a(e){document.getElementById("hidden-name").value=e.name||"",document.getElementById("hidden-email").value=e.email||"",document.getElementById("hidden-phone").value=e.phone||"",document.getElementById("hidden-subject").value=e.subject||"",document.getElementById("hidden-budget").value=e.budget||"",document.getElementById("hidden-deadline").value=e.deadline||"",document.getElementById("hidden-message").value=e.message||""}window.addEventListener("beforeunload",function(e){sessionStorage.getItem("contactFormData")&&(e.preventDefault(),e.returnValue="ページを離れると入力内容が失われます。よろしいですか？")})});
