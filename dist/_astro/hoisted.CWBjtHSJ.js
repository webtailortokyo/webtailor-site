import"./hoisted.Bl9GflwI.js";document.addEventListener("DOMContentLoaded",function(){const a=document.getElementById("contact-form"),l=document.getElementById("submit-btn"),m=document.getElementById("submit-text"),u=document.getElementById("loading-spinner");function f(){let e=!0;["name","email","subject","message"].forEach(c=>{const d=document.getElementById(c),i=document.getElementById(c+"-error");d.value.trim()?(i.classList.add("hidden"),d.classList.remove("border-red-500")):(i.textContent="この項目は必須です。",i.classList.remove("hidden"),d.classList.add("border-red-500"),e=!1)});const t=document.getElementById("email"),s=document.getElementById("email-error"),r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;t.value&&!r.test(t.value)&&(s.textContent="正しいメールアドレスの形式で入力してください。",s.classList.remove("hidden"),t.classList.add("border-red-500"),e=!1);const v=document.getElementById("privacy"),o=document.getElementById("privacy-error");return v.checked?o.classList.add("hidden"):(o.textContent="プライバシーポリシーに同意してください。",o.classList.remove("hidden"),e=!1),e}["name","email","subject","message"].forEach(e=>{document.getElementById(e).addEventListener("blur",function(){const t=document.getElementById(e+"-error");this.value.trim()?(t.classList.add("hidden"),this.classList.remove("border-red-500"),e==="email"&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.value)||(t.textContent="正しいメールアドレスの形式で入力してください。",t.classList.remove("hidden"),this.classList.add("border-red-500")))):(t.textContent="この項目は必須です。",t.classList.remove("hidden"),this.classList.add("border-red-500"))})}),a.addEventListener("submit",function(e){if(e.preventDefault(),!f()){const s=document.querySelector(".border-red-500, .text-red-600:not(.hidden)");s&&s.scrollIntoView({behavior:"smooth",block:"center"});return}l.disabled=!0,m.classList.add("hidden"),u.classList.remove("hidden");const n=new FormData(a),t={};n.forEach((s,r)=>{t[r]=s}),sessionStorage.setItem("contactFormData",JSON.stringify(t)),setTimeout(()=>{window.location.href="/contact-confirm"},500)}),document.querySelectorAll("input, select, textarea").forEach(e=>{e.addEventListener("focus",function(){this.parentNode.classList.add("scale-[1.02]")}),e.addEventListener("blur",function(){this.parentNode.classList.remove("scale-[1.02]")})})});
