---
// お問い合わせ完了（サンクス）ページ
// 送信完了後のありがとうメッセージを表示
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout 
  title="お問い合わせありがとうございました"
  description="お問い合わせいただきありがとうございます。ご返信まで今しばらくお待ちください。"
  currentPath="/contact-thanks"
>
  <!-- メインセクション -->
  <section class="min-h-screen flex items-center justify-center bg-gradient-primary relative overflow-hidden pt-20">
    <!-- 装飾的な背景要素 -->
    <div class="absolute inset-0">
      <div class="absolute top-1/4 left-1/4 w-64 h-64 bg-white/10 rounded-full blur-3xl animate-float"></div>
      <div class="absolute bottom-1/4 right-1/4 w-48 h-48 bg-primary-300/20 rounded-full blur-2xl animate-float" style="animation-delay: -2s;"></div>
      <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-accent-200/10 rounded-full blur-3xl animate-float" style="animation-delay: -4s;"></div>
    </div>
    
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
      <div class="max-w-4xl mx-auto text-center space-y-8">
        <!-- チェックアイコン -->
        <div class="fade-in-up">
          <div class="w-24 h-24 md:w-32 md:h-32 bg-gradient-to-r from-green-400 to-green-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg animate-bounce">
            <svg class="w-12 h-12 md:w-16 md:h-16 text-white" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
            </svg>
          </div>
        </div>

        <!-- メインメッセージ -->
        <div class="space-y-6 fade-in-up" style="animation-delay: 0.3s;">
          <h1 class="text-4xl md:text-6xl font-bold text-accent-800 leading-tight">
            お問い合わせ<br class="sm:hidden">ありがとうございました
          </h1>
          
          <p class="text-xl md:text-2xl text-accent-600 leading-relaxed">
            お問い合わせを受け付けました。<br>
            心より感謝申し上げます。
          </p>
        </div>

        <!-- 詳細メッセージ -->
        <div class="bg-white/90 backdrop-blur-sm p-8 md:p-12 rounded-2xl shadow-lg max-w-3xl mx-auto fade-in-up" style="animation-delay: 0.6s;">
          <div class="space-y-6">
            <div class="flex items-center justify-center mb-6">
              <svg class="w-8 h-8 text-primary-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
              </svg>
              <h2 class="text-2xl font-bold text-accent-800">今後の流れ</h2>
            </div>
            
            <div class="grid md:grid-cols-3 gap-6 text-left">
              <div class="bg-primary-50 p-6 rounded-xl">
                <div class="w-12 h-12 bg-primary-500 rounded-lg flex items-center justify-center mb-4">
                  <span class="text-white font-bold text-xl">1</span>
                </div>
                <h3 class="font-bold text-accent-800 mb-2">自動返信メール</h3>
                <p class="text-sm text-neutral-700">
                  お問い合わせ受付の自動返信メールをお送りいたします。
                </p>
              </div>
              
              <div class="bg-accent-50 p-6 rounded-xl">
                <div class="w-12 h-12 bg-accent-500 rounded-lg flex items-center justify-center mb-4">
                  <span class="text-white font-bold text-xl">2</span>
                </div>
                <h3 class="font-bold text-accent-800 mb-2">内容確認</h3>
                <p class="text-sm text-neutral-700">
                  いただいた内容を確認し、最適なご提案を検討いたします。
                </p>
              </div>
              
              <div class="bg-green-50 p-6 rounded-xl">
                <div class="w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mb-4">
                  <span class="text-white font-bold text-xl">3</span>
                </div>
                <h3 class="font-bold text-accent-800 mb-2">ご返信</h3>
                <p class="text-sm text-neutral-700">
                  <strong class="text-green-700">数営業日以内</strong>にお返事いたします。
                </p>
              </div>
            </div>
            
            <!-- 重要な注意事項 -->
            <div class="bg-amber-50 border-l-4 border-amber-400 p-6 rounded-lg mt-8">
              <div class="flex">
                <svg class="w-6 h-6 text-amber-400 mr-3 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                </svg>
                <div class="text-left">
                  <h4 class="text-amber-800 font-semibold mb-2">ご確認ください</h4>
                  <ul class="text-amber-700 space-y-1 text-sm">
                    <li>• 自動返信メールが届かない場合は、迷惑メールフォルダをご確認ください</li>
                    <li>• メールアドレスに誤りがある場合、再度お問い合わせフォームからご連絡ください</li>
                    <li>• お急ぎの場合は、直接メールでお問い合わせください</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- アクションボタン -->
        <div class="space-y-4 fade-in-up" style="animation-delay: 0.9s;">
          <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
            <a href="/" class="btn-gradient text-lg px-8 py-4 inline-block">
              トップページに戻る
            </a>
            <a href="/profile" class="bg-white/80 text-accent-700 px-8 py-4 rounded-lg font-medium hover:bg-white transition-all duration-300 hover:shadow-lg">
              詳しいプロフィールを見る
            </a>
          </div>
          
        </div>

        <!-- 感謝のメッセージ -->
        <div class="bg-gradient-to-r from-primary-100/50 to-accent-100/50 p-8 rounded-xl max-w-2xl mx-auto fade-in-up" style="animation-delay: 1.2s;">
          <div class="flex items-center justify-center mb-4">
            <svg class="w-8 h-8 text-primary-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path>
            </svg>
            <h3 class="text-xl font-bold text-accent-800">お待ちしております</h3>
          </div>
          <p class="text-accent-700 leading-relaxed">
            この度はWEBテーラーにお問い合わせいただき、誠にありがとうございます。<br>
            お客様のWEB制作を通じて、ビジネスの成功をお手伝いできることを楽しみにしております。<br>
            心を込めてご対応させていただきます。
          </p>
        </div>
      </div>
    </div>

    <!-- 紙吹雪アニメーション（お祝い効果） -->
    <div class="fixed inset-0 pointer-events-none z-0">
      <div class="confetti-piece confetti-1"></div>
      <div class="confetti-piece confetti-2"></div>
      <div class="confetti-piece confetti-3"></div>
      <div class="confetti-piece confetti-4"></div>
      <div class="confetti-piece confetti-5"></div>
      <div class="confetti-piece confetti-6"></div>
    </div>
  </section>
</BaseLayout>

<!-- サンクスページ用JavaScript -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Google Analytics のイベントトラッキング（実際のGA設定が必要）
    // gtag('event', 'contact_form_submit', {
    //   'event_category': 'engagement',
    //   'event_label': 'contact_form'
    // });
    
    // セッションストレージをクリア（念のため）
    sessionStorage.removeItem('contactFormData');
    
    // ページ読み込み時のアニメーション
    setTimeout(() => {
      const confettiPieces = document.querySelectorAll<HTMLElement>('.confetti-piece');
      confettiPieces.forEach((piece, index) => {
        setTimeout(() => {
          piece.style.opacity = '1';
          piece.style.transform = 'translateY(0) rotate(360deg)';
        }, index * 200);
      });
    }, 1000);
    
    // 自動返信メールのヒント表示
    setTimeout(() => {
      showEmailHint();
    }, 5000);
  });
  
  function showEmailHint() {
    const hint = document.createElement('div');
    hint.className = 'fixed bottom-6 right-6 bg-blue-500 text-white p-4 rounded-lg shadow-lg z-50 max-w-sm';
    hint.innerHTML = `
      <div class="flex items-start space-x-3">
        <svg class="w-6 h-6 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
          <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
          <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
        </svg>
        <div>
          <h4 class="font-semibold">メールをご確認ください</h4>
          <p class="text-sm">自動返信メールをお送りしています。届いていない場合は迷惑メールフォルダもご確認ください。</p>
        </div>
        <button onclick="this.parentNode.parentNode.remove()" class="text-white/70 hover:text-white ml-2">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
          </svg>
        </button>
      </div>
    `;
    
    document.body.appendChild(hint);
    
    // 10秒後に自動で消す
    setTimeout(() => {
      if (hint.parentNode) {
        hint.style.opacity = '0';
        hint.style.transform = 'translateX(100%)';
        setTimeout(() => hint.remove(), 300);
      }
    }, 10000);
  }
</script>

<style>
  /* アニメーション効果 */
  .fade-in-up {
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 0.8s ease-out forwards;
  }
  
  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* 浮遊アニメーション */
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
  }
  
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }
  
  /* 紙吹雪アニメーション */
  .confetti-piece {
    position: absolute;
    width: 10px;
    height: 10px;
    opacity: 0;
    transform: translateY(-100px) rotate(0deg);
    transition: all 2s ease-out;
  }
  
  .confetti-1 {
    background: #22ccf0;
    left: 10%;
    top: 20%;
    animation-delay: 0.1s;
  }
  
  .confetti-2 {
    background: #0ea5e9;
    left: 20%;
    top: 30%;
    animation-delay: 0.3s;
  }
  
  .confetti-3 {
    background: #fbbf24;
    right: 20%;
    top: 25%;
    animation-delay: 0.5s;
  }
  
  .confetti-4 {
    background: #ef4444;
    right: 30%;
    top: 40%;
    animation-delay: 0.7s;
  }
  
  .confetti-5 {
    background: #10b981;
    left: 40%;
    top: 50%;
    animation-delay: 0.9s;
  }
  
  .confetti-6 {
    background: #8b5cf6;
    right: 40%;
    top: 60%;
    animation-delay: 1.1s;
  }
  
  /* チェックアイコンのアニメーション */
  .animate-bounce {
    animation: bounce 1s infinite;
  }
  
  @keyframes bounce {
    0%, 20%, 53%, 80%, 100% {
      transform: translate3d(0,0,0);
    }
    40%, 43% {
      transform: translate3d(0,-30px,0);
    }
    70% {
      transform: translate3d(0,-15px,0);
    }
    90% {
      transform: translate3d(0,-4px,0);
    }
  }
  
  /* レスポンシブ対応 */
  @media (max-width: 768px) {
    .confetti-piece {
      width: 6px;
      height: 6px;
    }
    
    .grid.md\\:grid-cols-3 {
      gap: 1rem;
    }
  }
  
  /* ホバー効果 */
  .btn-gradient:hover {
    background: linear-gradient(to right, #fbbf24, #f59e0b); /* from-amber-400 to-amber-500 */
    transform: translateY(-2px) scale(1.02);
  }
  
  a:hover {
    transition: all 0.3s ease;
  }
</style>